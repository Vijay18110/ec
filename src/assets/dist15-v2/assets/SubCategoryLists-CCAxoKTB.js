import{l as D,c as j,u as w,b as P,j as a,A as l,K as p,a as A,h as N,y as C,e as h}from"./index-CQ0pFaA9.js";import I from"./SectionTitle-BCTij8KB.js";import{u as W,m as G,b as R}from"./App-9vCfEsS0.js";const O=()=>{const{search:S}=D(),g=new URLSearchParams(S),d=atob(g.get("id")),{response:t,sendApiRequest:y}=W(),r=JSON.parse(sessionStorage.getItem("loggedInUser")),e=j();w();const f=async s=>{var n,u;if(r){const x={Body:await l.encryptString(p,JSON.stringify({CustomerId:r==null?void 0:r.CustomerId,ProductID:s}))};let i;i=await A.post("/AddCustomerWish",x);const b=await l.decryptString(p,i.data.body),o=JSON.parse(b);if(o.Status===0){const c=await R();e(N.setWishlist((u=(n=c==null?void 0:c.obj)==null?void 0:n.Response)==null?void 0:u.lstWishData))}o.Status===1&&C.error(o.Message),o.Status===3&&e(h.openModal())}else e(h.openModal())};return P.useEffect(()=>{y("POST","/SubGroupWiseProductList",{GroupHeaderID:d})},[d]),a.jsx(a.Fragment,{children:a.jsx("div",{className:"container",children:(t==null?void 0:t.lstSubGroupDetail.length)>0&&a.jsxs(a.Fragment,{children:[a.jsx(I,{link:!1,title:"Products on discount"}),a.jsx("div",{className:" d-flex row-cols-lg-4 flex-wrap row-cols-md-2 row-cols-sm-2 row-cols-1",children:t==null?void 0:t.lstSubGroupDetail.map((s,n)=>a.jsx(G,{name:s==null?void 0:s.ProductName,img:s==null?void 0:s.ProductThumbnail,price:s.Price,discount:s==null?void 0:s.DiscountPercent,mrp:s==null?void 0:s.MRP,subCatName:s==null?void 0:s.SubGroupName,cartdata:s,handleAddWishlist:f}))})]})})})};export{O as default};
